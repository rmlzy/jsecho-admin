<nz-page-header nzTitle="创建用户"></nz-page-header>

<nz-spin [nzSpinning]="spinning">
  <div nz-row nzGutter="10">
    <div
      nz-col
      [nzXs]="{ span: 24 }"
      [nzSm]="{ span: 20, offset: 2 }"
      [nzMd]="{ span: 12, offset: 6 }"
      [nzLg]="{ span: 10, offset: 7 }"
    >
      <form
        nz-form
        [formGroup]="updateForm"
        nzLayout="vertical"
        (ngSubmit)="submit()"
      >
        <nz-form-item>
          <nz-form-label nzRequired>用户名</nz-form-label>
          <nz-form-control nzErrorTip="必须填写用户名" [nzExtra]="nameExtraTpl">
            <input nz-input formControlName="name" maxlength="32" />
            <ng-template #nameExtraTpl>
              <div>此用户名将作为用户登录时所用的名称.</div>
              <div>请不要与系统中现有的用户名重复.</div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label nzRequired>电子邮箱地址</nz-form-label>
          <nz-form-control
            nzErrorTip="必须填写电子邮箱"
            [nzExtra]="mailExtraTpl"
          >
            <input nz-input formControlName="mail" maxlength="200" />
            <ng-template #mailExtraTpl>
              <div>电子邮箱地址将作为此用户的主要联系方式.</div>
              <div>请不要与系统中现有的电子邮箱地址重复.</div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label>用户昵称</nz-form-label>
          <nz-form-control [nzExtra]="screenNameExtraTpl">
            <input nz-input formControlName="screenName" maxlength="32" />
            <ng-template #screenNameExtraTpl>
              <div>用户昵称可以与用户名不同, 用于前台显示.</div>
              <div>如果你将此项留空, 将默认使用用户名.</div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzRequired]="currentUid === ''">
            用户密码
          </nz-form-label>
          <nz-form-control
            nzErrorTip="必须填写用户密码"
            [nzExtra]="passwordExtraTpl"
          >
            <input
              nz-input
              formControlName="password"
              type="password"
              maxlength="64"
            />
            <ng-template #passwordExtraTpl>
              <div>为此用户分配一个密码.</div>
              <div>
                建议使用特殊字符与字母、数字的混编样式,以增加系统安全性.
              </div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzRequired]="currentUid === ''">
            用户密码确认
          </nz-form-label>
          <nz-form-control
            nzErrorTip="必须再次输入密码"
            [nzExtra]="confirmExtraTpl"
          >
            <input
              nz-input
              formControlName="confirm"
              type="password"
              maxlength="64"
            />
            <ng-template #confirmExtraTpl>
              <div>请确认你的密码, 与上面输入的密码保持一致.</div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label>个人主页地址</nz-form-label>
          <nz-form-control [nzExtra]="urlExtraTpl">
            <input nz-input formControlName="url" maxlength="200" />
            <ng-template #urlExtraTpl>
              <div>此用户的个人主页地址, 请用 http:// 开头.</div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label>用户组</nz-form-label>
          <nz-form-control [nzExtra]="groupExtraTpl">
            <nz-select formControlName="group" style="width: 200px">
              <nz-option
                *ngFor="let item of groupEnums"
                [nzValue]="item.value"
                [nzLabel]="item.label"
              >
              </nz-option>
            </nz-select>
            <ng-template #groupExtraTpl>
              <div>不同的用户组拥有不同的权限.</div>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item nz-row style="margin-bottom: 8px">
          <nz-form-control>
            <button nz-button nzType="primary" type="submit">提交</button>
          </nz-form-control>
        </nz-form-item>
      </form>
    </div>
  </div>
</nz-spin>
